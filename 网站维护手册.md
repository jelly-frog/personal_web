# 个人网站维护手册 (零代码基础版)

这份指南将帮助你轻松维护和更新你的个人网站，无需深入了解编程代码。所有的内容修改主要集中在 `public` 文件夹中。

## 📁 目录结构说明

你需要关注的核心文件夹是：
- `public/` : 存放图片、笔记文章和配置文件的公共目录。
  - `public/posts/` : 存放所有笔记的 Markdown (`.md`) 源文件。
  - `public/posts.json` : **关键文件**，用于管理笔记列表和分类。
  - `public/avatar.png` : 你的头像图片。

---

## 📝 1. 如何管理笔记

### 添加一篇新笔记
这是最常用的操作，分两步完成：

**第一步：创建文章文件**
1. 进入 `public/posts` 文件夹。
2. 新建一个文本文件，将后缀名改为 `.md`（例如 `study-plan.md`）。
3. 使用记事本或 Markdown 编辑器打开，编写你的文章内容。

**第二步：注册文章**
1. 打开 `public/posts.json` 文件（可以用记事本打开）。
2. 在 `[` 和 `]` 中间找到现有的记录，参考格式添加一段新的信息（注意标点符号）：

```json
  {
    "id": "任意不重复的数字或字符",
    "title": "这里写文章标题",
    "date": "2024-01-01",
    "category": "分类名称",
    "filename": "study-plan.md", 
    "summary": "这里写一段简短的摘要，会显示在列表里",
    "starred": false
  }
```
*注意：`filename` 必须和你第一步创建的文件名完全一致。*

### 设为“精选”文章
在 `posts.json` 中，将对应文章的 `"starred": false` 改为 `"starred": true` 即可。精选文章会显示黄色星星并在列表中置顶。

### 修改分类简介
当你点击某个分类（如“Web 开发”）但没有选择具体文章时，会显示该分类的简介。
1. 规则：简介文件位于 `public/posts/` 目录下。
2. 命名：格式为 `intro-分类英文名.md`（例如 `intro-web-dev.md`）。
   - 如果分类是中文，系统会自动将其转换为小写并用横线连接（具体可参考浏览器地址栏或尝试创建文件）。
3. 修改：直接编辑对应的 `.md` 文件即可。

---

## 🖼️ 2. 个性化设置

### 更换头像
1. 准备一张你喜欢的图片（建议是正方形）。
2. 将图片重命名为 `avatar.png`。
3. 将其放入 `public` 文件夹，覆盖原有的 `avatar.png` 文件。
4. 刷新网页即可看到变化。

### 调整工具顺序
1. 在网页首页，“实用工具”标题右侧有一个小的**设置图标**。
2. 点击它，会弹出一个菜单。
3. 使用上下箭头⬆️⬇️即可调整工具的显示顺序。这个设置会保存在你的浏览器中。

---

## 🛠️ 3. 常见问题排查

**Q: 我添加了文章，但网页上没显示？**
A: 请检查 `public/posts.json` 文件：
1. 是否保存了文件？
2. 格式是否正确？（例如每一项之间是否有逗号 `,` 分隔，最后一项后面不能有逗号）。
3. `filename` 是否写对了文件名？

**Q: 网页上的图片不显示了？**
A: 确保图片文件在 `public` 文件夹中，且文件名（包括后缀名 `.png` / `.jpg`）与代码中引用的一致。

**Q: Markdown 里的标题格式不对？**
A: Markdown 的标题需要用 `#` 加空格开头。
例如：`# 一级标题` (对应 H1), `## 二级标题` (对应 H2)。**注意 `#` 后面必须有一个空格**。

---

## 🚀 4. 如何部署上线 (中国境内可访问推荐方案)

由于 GitHub Pages 在中国境内访问不稳定，推荐使用 **Cloudflare Pages** 进行免费部署。它不仅免费，而且在中国境内的访问速度通常优于 GitHub Pages，且无需购买服务器。

### 步骤一：注册与连接
1. 访问 [Cloudflare Dashboard](https://dash.cloudflare.com/sign-up) 并注册一个账号。
2. 登录后，在左侧菜单点击 **Workers & Pages**。
3. 点击蓝色按钮 **Create application** (创建应用)。
4. 选择标签页 **Pages**，然后点击 **Connect to Git**。

### 步骤二：导入项目
1. 登录你的 GitHub 账号并授权 Cloudflare 访问。
2. 在仓库列表中选择 **personal_web**，点击 **Begin setup**。

### 步骤三：配置构建 (关键步骤)
在 "Set up build and deployments" 页面，请确保以下设置正确：
- **Project name**: 保持默认或自定义。
- **Framework preset** (框架预设): 选择 **Vite**。
- **Build command** (构建命令): `npm run build` (通常会自动填好)。
- **Build output directory** (输出目录): `dist` (通常会自动填好)。

点击 **Save and Deploy**。

### 步骤四：访问网站
等待几分钟构建完成后，Cloudflare 会给你一个类似 `https://personal-web-xxxx.pages.dev` 的网址。你可以将这个网址分享给国内的朋友，通常都可以正常访问。

*提示：每次你在本地修改并推送到 GitHub 后，Cloudflare 会自动检测更新并重新部署，无需手动操作。*

